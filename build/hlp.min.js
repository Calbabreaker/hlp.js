/*!
 * hlp.js v1.0.2 by Calbabreaker 2020-10-23 
 * Free to use. GPL-3.0.
 */!function(t){var e={};function r(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(n,s,function(e){return t[e]}.bind(null,s));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=8)}([function(t,e,r){"use strict";r.r(e),r.d(e,"abs",(function(){return s})),r.d(e,"exp",(function(){return i})),r.d(e,"log",(function(){return o})),r.d(e,"max",(function(){return a})),r.d(e,"min",(function(){return c})),r.d(e,"sqrt",(function(){return h})),r.d(e,"hypot",(function(){return u})),r.d(e,"asin",(function(){return l})),r.d(e,"sin",(function(){return d})),r.d(e,"acos",(function(){return f})),r.d(e,"cos",(function(){return m})),r.d(e,"atan",(function(){return p})),r.d(e,"atan2",(function(){return g})),r.d(e,"atanh",(function(){return y})),r.d(e,"tan",(function(){return w})),r.d(e,"round",(function(){return x})),r.d(e,"floor",(function(){return _})),r.d(e,"ceiling",(function(){return v})),r.d(e,"sigmoid",(function(){return b})),r.d(e,"dsigmoid",(function(){return S})),r.d(e,"relu",(function(){return M})),r.d(e,"drelu",(function(){return P})),r.d(e,"radians",(function(){return k})),r.d(e,"degrees",(function(){return E})),r.d(e,"map",(function(){return z})),r.d(e,"lerp",(function(){return O})),r.d(e,"constrain",(function(){return R})),r.d(e,"random",(function(){return L})),r.d(e,"randInt",(function(){return A})),r.d(e,"dist",(function(){return I})),r.d(e,"randomGaussian",(function(){return j}));var n=r(2);const s=Math.abs,i=Math.exp,o=Math.log,a=Math.max,c=Math.min,h=Math.sqrt,u=Math.hypot,l=Math.asin,d=Math.sin,f=Math.acos,m=Math.cos,p=Math.atan,g=Math.atan2,y=Math.atanh,w=Math.tan,x=(t,e=0)=>{const r=t*10**e;return Math.round(r)/10**e},_=(t,e=0)=>{const r=t*10**e;return Math.floor(r)/10**e},v=(t,e=0)=>{const r=t*10**e;return Math.ceil(r)/10**e},b=t=>1/(1+Math.exp(-t)),S=t=>b(t)*(1-b(t)),M=t=>t<0?.1*t:t,P=t=>t<0?.5:1,k=t=>t*n.DEG_TO_RAD,E=t=>t*n.RAD_TO_DEG,z=(t,e,r,n,s)=>n+(s-n)*(t-e)/(r-e),O=(t,e,r)=>r*(e-t)+t,R=(t,e,r)=>Math.max(Math.min(t,r),e),L=(t,e)=>(null==e&&(e=t,t=0),Math.random()*(t-e)+e),A=(t,e)=>(null==e&&(e=t,t=0),Math.floor(L(t,e+1))),I=(...t)=>4==t.length?Math.hypot(t[2]-t[0],t[3]-t[1]):6==t.length?Math.hypot(t[3]-t[0],t[4]-t[1],t[5]-t[2]):void 0;let T=0,C=!1;const j=(t=0,e=1)=>{let r,n,s,i;if(C)r=T,C=!1;else{do{n=Math.random(0,2)-1,s=Math.random(0,2)-1,i=n*n+s*s}while(i>=1);i=Math.sqrt(-2*Math.log(i)/i),r=n*i,T=s*i,C=!0}return r*e+t}},function(t,e,r){"use strict";r.r(e),r.d(e,"Vector",(function(){return s}));var n=r(0);class s{constructor(t=0,e=0,r=0){this.x=t,this.y=e,this.z=r}add(t){return t instanceof s?(this.x+=t.x,this.y+=t.y,this.z+=t.z):(this.x+=t,this.y+=t,this.z+=t),this}static add(t,e){return t.clone().add(e)}sub(t){return t instanceof s?(this.x-=t.x,this.y-=t.y,this.z-=t.z):(this.x-=t,this.y-=t,this.z-=t),this}static sub(t,e){return t.clone().sub(e)}div(t){return t instanceof s?(this.x/=t.x,this.y/=t.y,this.z/=t.z):(this.x/=t,this.y/=t,this.z/=t),this}static div(t,e){return t.clone().div(e)}mult(t){return t instanceof s?(this.x*=t.x,this.y*=t.y,this.z*=t.z):(this.x*=t,this.y*=t,this.z*=t),this}static mult(t,e){return t.clone().mult(e)}static crossProduct(t,e){const r=new s;return r.x=t.y*e.z-t.z*e.y,r.y=t.z*e.x-t.x*e.z,r.z=t.x*e.y-t.y*e.x,r}dotProduct(t){return this.x*t.x+this.y*t.y+this.z*t.z}clone(){return new s(this.x,this.y,this.z)}set(t=0,e=0,r=0){this.x=t,this.y=e,this.z=r}magSq(){return this.x**2+this.y**2+this.z**2}mag(){return n.sqrt(this.magSq())}normalise(){const t=this.mag();return 0!==t&&this.mult(1/t),this}static normalise(t){return t.clone().normalise()}dist(t){return n.dist(this.x,this.y,this.z,t.x,t.y,t.z)}static dist(t,e){return t.dist(e)}setMag(t){return this.normalise().mult(t)}heading(){const t=n.atan2(this.y,this.x);return toDegrees(t)}rotate(t){const e=radians(this.heading()+t),r=this.mag();return this.x=n.cos(e)*r,this.y=n.sin(e)*r,this}rotateTo(t){const e=this.mag();return this.x=n.cos(t)*e,this.y=n.sin(t)*e,this}toString(){return`x: ${this.x}, y: ${this.y}, z: ${this.z}`}toArray(){return[this.x,this.y,this.z]}static fromAngle(t,e=1){return t=n.radians(t),new s(e*n.cos(t),e*n.sin(t),0)}static random2D(t=1){return s.fromAngle(n.random(0,360)).mult(t)}}},function(t,e,r){"use strict";r.r(e),r.d(e,"PI",(function(){return n})),r.d(e,"TWO_PI",(function(){return s})),r.d(e,"FOUR_PI",(function(){return i})),r.d(e,"HALF_PI",(function(){return o})),r.d(e,"QUARTER_PI",(function(){return a})),r.d(e,"E",(function(){return c})),r.d(e,"DEG_TO_RAD",(function(){return h})),r.d(e,"RAD_TO_DEG",(function(){return u})),r.d(e,"FULL",(function(){return l})),r.d(e,"renderer2D",(function(){return d})),r.d(e,"JSON",(function(){return f})),r.d(e,"TEXT",(function(){return m})),r.d(e,"BLOB",(function(){return p})),r.d(e,"RGB",(function(){return g})),r.d(e,"RGBA",(function(){return y})),r.d(e,"HSL",(function(){return w})),r.d(e,"HSLA",(function(){return x})),r.d(e,"CENTER",(function(){return _})),r.d(e,"LEFT",(function(){return v})),r.d(e,"RIGHT",(function(){return b})),r.d(e,"START",(function(){return S})),r.d(e,"END",(function(){return M}));const n=Math.PI,s=2*Math.PI,i=4*Math.PI,o=Math.PI/2,a=Math.PI/4,c=Math.E,h=Math.PI/180,u=180/Math.PI,l="full",d="renderer2D",f="json",m="text",p="blob",g="rgb",y="rgba",w="hsl",x="hsla",_="center",v="left",b="right",S="start",M="end"},function(t,e,r){"use strict";r.r(e),r.d(e,"Colour",(function(){return s}));var n=r(2);class s{constructor(t,e,r,s=255,i=n.RGB){this.colourMode=i,this.a=255,this.set(t,e,r)}set(t,e=this.c1,r=this.c1,n){this.c1=t,this.c2=e,this.c3=r,"a"===this.colourMode.substr(-1)&&(this.a=n||255)}toString(){return s.toString(this.c1,this.c2,this.c3,this.a,this.colourMode)}static toString(t,e=t,r=t,s=255,i=n.RGB){return i==n.RGB||i==n.RGBA?`rgb(${t}, ${e}, ${r}, ${s})`:i==n.HSL||i==n.HSLA?`hsl(${t}, ${e}%, ${r}%, ${s})`:void 0}}},function(t,e,r){"use strict";r.r(e),r.d(e,"UniqueIDGen",(function(){return n}));class n{constructor(t=5){this.increments=new Array(t).fill(0),this.incrementPointer=0}gen(){let t="";return this.increments.forEach(e=>{t+=""+e}),this.increments[this.incrementPointer]++,this.incrementPointer++,this.incrementPointer>this.increments.length-1&&(this.incrementPointer=0),t}}},function(t,e,r){"use strict";r.r(e),r.d(e,"Map",(function(){return n}));class n{constructor(t={}){return Object.defineProperty(this,"_data",{enumerable:!1,writable:!0,value:Object.assign({},t)}),new Proxy(this,{get:(t,e,r)=>Reflect.has(t,e)?Reflect.get(t,e,r):t._data[e],set(t,e,r,n){if(Reflect.has(t,e))return Reflect.set(t,e,r,n);t._data[e]=r},deleteProperty(t,e){delete t._data[e]}})}contains(t){return null!=this._data[t]}clone(){return new n(this._data)}forEach(t){for(let e in this._data)t(e)}serialise(){return JSON.stringify(this._data)}deserialise(t){return new n(JSON.parse(t))}}},function(t,e,r){"use strict";r.r(e),r.d(e,"choose",(function(){return s})),r.d(e,"shuffle",(function(){return i})),r.d(e,"sum",(function(){return o})),r.d(e,"product",(function(){return a})),r.d(e,"mean",(function(){return c})),r.d(e,"randomise",(function(){return h})),r.d(e,"min",(function(){return u})),r.d(e,"max",(function(){return l}));var n=r(0);const s=t=>t[n.randInt(t.length-1)],i=t=>{let e,r,n=t.length;for(;n>1;)e=Math.random()*n|0,r=t[--n],t[n]=t[e],t[e]=r},o=t=>{let e=0;return t.forEach(t=>e+=t),e},a=t=>(t.forEach(t=>a*=t),0),c=t=>o(t)/t.length,h=(t,e,r)=>{for(let s=0;s<t.length;s++)t[s]=n.random(e,r)},u=t=>Math.min(...t),l=t=>Math.max(...t)},function(t,e,r){"use strict";r.r(e),r.d(e,"System",(function(){return n})),r.d(e,"Entity",(function(){return s})),r.d(e,"Component",(function(){return i}));class n{}class s{}class i{}},function(t,e,r){if(null!=window.hlp)alert("Cannot import hlp, instance of the hlp libary is already in use!"),console.error("Cannot import hlp, instance of the hlp libary is already in use!");else{const t={};window.hlp=t,null==window.Proxy&&alert("Your browser does not support Proxy which is required in some modules in hlp.js!"),Object.assign(t,r(9)),Object.assign(t,r(10)),Object.assign(t,r(7)),Object.assign(t,r(19)),Object.assign(t,r(3)),Object.assign(t,r(0)),Object.assign(t,r(11)),Object.assign(t,r(1)),Object.assign(t,r(12)),Object.assign(t,r(2)),Object.assign(t,r(13)),Object.assign(t,r(14)),Object.assign(t,r(15)),t.string={},Object.assign(t.string,r(16)),t.array={},Object.assign(t.array,r(6)),Object.assign(t,r(17)),Object.assign(t,r(5)),Object.assign(t,r(18)),Object.assign(t,r(4)),console.log("--- hlp.js ---")}},function(t,e,r){"use strict";r.r(e),r.d(e,"Engine",(function(){return n}));class n{constructor(t=60){this._keyPressingDict={},this._keyCodePressingDict={},this.deltaTime=0,this.mouseIsLocked=!1,this.frameCount=0,this.looping=!0,this.changeFPS(t),window.addEventListener("load",()=>{if(document.addEventListener("mousemove",t=>{this.mouseIsLocked?this.lockedMouseMove():this.unlockedMouseMove(),this.mouseMove()}),document.addEventListener("pointerlockchange",()=>this.mouseIsLocked=!this.mouseIsLocked,!1),document.addEventListener("mozpointerlockchange",()=>this.mouseIsLocked=!this.mouseIsLocked,!1),document.addEventListener("mousedown",t=>{this.mousePressed()}),document.addEventListener("mouseup",t=>{this.mouseReleased()}),document.addEventListener("keydown",t=>{this._keyPressingDict[t.key]=!0,this._keyCodePressingDict[t.code]=!0,this.keyPressed()}),document.addEventListener("keyup",t=>{this._keyPressingDict[t.key]=!1,this._keyCodePressingDict[t.code]=!1,this.keyReleased()}),null!=this.preload){let t=document.getElementById("this_loading");null==t&&(t=document.createElement("p"),t.innerHTML="Loading...",t.id="this_loading",document.body.appendChild(t)),t.style.position="absolute",t.style.top="10px",t.style.left="10px",this.preload().then(()=>{document.body.removeChild(t),this._start()})}else this._start()})}_start(){null!=this.setup&&this.setup(),this._timeStarted=performance.now(),this._timeLastFrame=performance.now(),this.resume()}_draw(){this.looping&&requestAnimationFrame(()=>this._draw());try{const t=performance.now(),e=t-this._timeLastFrame,r=5;e>this.fpsInterval-r&&(this.frameCount++,this.fps=1e3/e,this.deltaTime=e/1e3,this.draw(),this._timeLastFrame=t)}catch(t){this.looping=!1,console.error(t)}}stop(){this.looping=!1}resume(){null!=this.draw&&(this.looping=!0,this._draw())}millis(){performance.now(),this._timeStarted}keyIsDown(t){this._keyPressingDict[t]}keyCodeIsDown(t){this._keyCodePressingDict[t]}changeFPS(t){this.targetFPS=t,this.fps=t,this.fpsInterval=1e3/t,this._timeLastFrame=performance.now()}unlockPointer(){document.exitPointerLock?document.exitPointerLock():document.mozExitPointerLock()}mousePressed(){}mouseReleased(){}mouseMove(){}keyPressed(){}keyReleased(){}lockedMouseMove(){}unlockedMouseMove(){}}},function(t,e,r){"use strict";r.r(e),r.d(e,"World",(function(){return i}));var n=r(5),s=r(4);r(7);class i{constructor(){this.components=new n.Map,this.systems=new n.Map,this.uniqueIdGen=new s.UniqueIDGen}registerComponent(t,e){}registerSystem(t,e){}createEntity(t){}}},function(t,e,r){"use strict";r.r(e),r.d(e,"Matrix",(function(){return i}));var n=r(1),s=r(0);class i{constructor(t=0,e=0){t instanceof Array?(this.data=t,this.rows=this.data.length,this.cols=this.data[0].length):(this.rows=t,this.cols=e,this.data=new Array(t).fill().map(()=>new Array(e).fill(0)))}static add(t,e){return new i(t.rows,t.cols).add(e)}add(t){if(t instanceof i){if(this.cols!==t.cols||this.rows!==t.rows)throw new Error("Both matrixs rows and cols must match!");return this.map((e,r,n)=>e+t.data[r][n])}if("number"==typeof t)return this.map(e=>e+t);throw new Error("Did not provide valid data for parameter toAdd!")}static sub(t,e){return new i(t.rows,t.cols).sub(e)}sub(t){if(t instanceof i){if(this.cols!==t.cols||this.rows!==t.rows)throw new Error("Both matrixs rows and cols must match!");return this.map((e,r,n)=>e-t.data[r][n])}if("number"==typeof t)return this.map(e=>e-t);throw new Error("Did not provide valid data for parameter toSub!")}static dotMult(t,e){if(t.cols!==e.rows)throw new Error("Matrix a cols must match matrix b rows!");return new i(t.rows,e.cols).map((r,n,s)=>{let i=0;for(let r=0;r<t.cols;r++)i+=t.data[n][r]*e.data[r][s];return i})}static multVector(t,e){if(!(t instanceof n.Vector))throw new Error("vec must be a vector");if(4!=e.cols||4!=e.rows)throw new Error("matrix must have 4 cols and 4 rows!");const r=new n.Vector(t.x,t.y,t.z);r.x=t.x*e.data[0]+t.y*e.data[0]+t.z*e.data[0]+e.data[0],r.y=t.x*e.data[1]+t.y*e.data[1]+t.z*e.data[1]+e.data[1],r.z=t.x*e.data[2]+t.y*e.data[2]+t.z*e.data[2]+e.data[2];const s=t.x*e.data[3]+t.y*e.data[3]+t.z*e.data[3]+e.data[3];return 0!=s&&r.div(s),r}static mult(t,e){return new i(t.rows,t.cols).mult(e)}mult(t){if(t instanceof i){if(this.cols!==t.cols||this.rows!==t.rows)throw new Error("Both matrixs rows and cols must match!");return this.map((e,r,n)=>e*t.data[r][n])}if("number"==typeof t)return this.map(e=>e*t);throw new Error("Did not provide valid data for parameter toMult!")}static div(t,e){return new i(t.rows,t.cols).div(e)}div(t){if(t instanceof i){if(this.cols!==t.cols||this.rows!==t.rows)throw new Error("Both matrixs rows and cols must match!");return this.map((e,r,n)=>e/t.data[r][n])}if("number"==typeof t)return this.map(e=>e/t);throw new Error("Did not provide valid data for parameter toDiv!")}randomise(t=0,e=1){return this.map(()=>s.random(t,e))}randomiseGuassian(t=0,e=1){return this.map(()=>s.randomGaussian(t,e))}max(){let t=0;return i.map(this,e=>{e>t&&(t=e)}),t}sum(){let t=0;return i.map(this,e=>t+=e),t}exp(){return this.map(s.exp)}floor(){return this.map(s.floor)}fill(t){return this.map(()=>t)}constrain(t,e){return this.map(r=>t(e(r,t),e))}softmax(){return this.sub(this.max()).exp(),this.div(this.sum())}map(t){for(let e=0;e<this.rows;e++)for(let r=0;r<this.cols;r++){const n=this.data[e][r];this.data[e][r]=t(n,e,r)}return this}static map(t,e){return new i(t.rows,t.cols).map((r,n,s)=>e(t.data[n][s],n,s))}static transpose(t){return new i(t.cols,t.rows).map((e,r,n)=>t.data[n][r])}log(){return console.table(this.data),this}clone(){return i.map(this,t=>t)}toArray(t=!1){if(t){const t=[];return this.data.forEach(e=>t.push(...e)),t}return this.clone().data}static createFromVector(t){return new i([[t.x],[t.y],[t.z],[0]])}toVector(){if(this.rows>=3)return new n.Vector(this.data[0][0],this.data[1][0],this.data[2][0]);throw new Error("Matrix cannot be converted to a vector!")}static createIdentity(){return new i([[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]])}static createRotationX(t){return new i([[1,0,0,0],[0,s.cos(t),s.sin(t),0],[0,-s.sin(t),s.cos(t),0],[0,0,0,1]])}static createRotationY(t){return new i([[s.cos(t),0,s.sin(t),0],[0,1,0,0],[-s.sin(t),0,s.cos(t),0],[0,0,0,1]])}static createRotationZ(t){return new i([[s.cos(t),s.sin(t),0,0],[-s.sin(t),s.cos(t),0,0],[0,0,1,0],[0,0,0,1]])}static createTranslation(t,e,r){return new i([[1,0,0,0],[0,1,0,0],[0,0,1,0],[t,e,r,1]])}static createPerspective(t,e,r,n){const s=toRadians(t);return new i([[e*s,0,0,0],[0,s,0,0],[0,0,n/(n-r),1],[0,0,-n*r/(n-r),0]])}static createPointAt(t,e,r){const s=n.Vector.sub(e,t).normalise(),o=n.Vector.sub(r,n.Vector.mult(s,r.dotProduct(s))).normalise(),a=n.Vector.crossProduct(o,s);return new i([[a.x,a.y,a.z],[o.x,o.y,o.z],[s.x,s.y,s.z],[t.x,t.y,t.z]])}}},function(t,e,r){"use strict";r.r(e),r.d(e,"AudioSynth",(function(){return s}));var n=r(4);class s{constructor(){const t=window.AudioContext||window.webkitAudioContext;if(null==t)return alert("Your browser does not support the AudioContext!");this.context=new t,this.threads={},this.uniqueIdGen=new n.UniqueIDGen}play(t,e,r,n){null!=e&&this.setFreq(t,e),null!=n&&this.setWaveType(t,n),null!=r&&this.setVolume(t,r);const s=this.threads[t];return s.oscillator.start(s.startTime),this}stop(t,e=0,r=!1){const n=this.threads[t];return r&&this.setVolume(t,1e-5,this.context.currentTime+e,!0),n.oscillator.stop(this.context.currentTime+e),this}dispose(t){return delete this.threads[t],this}newThread(t=this.context.destination){const e={};this.context.resume(),e.gain=this.context.createGain(),e.gain.connect(t),e.oscillator=this.context.createOscillator(),e.oscillator.connect(e.gain),e.compressor=this.context.createDynamicsCompressor(),e.compressor.connect(this.context.destination);const r=this.uniqueIdGen.gen();return this.threads[r]=e,r}setWaveType(t,e){return this.threads[t].oscillator.type=e,this}setFreq(t,e,r=0){const n=this.threads[t],s=this.context.currentTime;return n.oscillator.frequency.setTargetAtTime(e,s+r,0),this}setVolume(t,e,r=0,n=!1){const s=this.threads[t],i=this.context.currentTime;return n?(s.gain.gain.setValueAtTime(s.gain.gain.value,this.context.currentTime),s.gain.gain.exponentialRampToValueAtTime(e,i+r)):s.gain.gain.value=e,this}}},function(t,e,r){"use strict";r.r(e),r.d(e,"rainbow",(function(){return n})),r.d(e,"rainbowSeizure",(function(){return s})),r.d(e,"sleep",(function(){return i}));const n=()=>{[...document.querySelectorAll("*")].forEach(t=>{t.style.backgroundColor="#"+Math.floor(16777215*Math.random()).toString(16),t.style.color="#"+Math.floor(16777215*Math.random()).toString(16),t.style.borderColor="#"+Math.floor(16777215*Math.random()).toString(16)})},s=()=>{setInterval(modules.exports.rainbow,1)},i=async t=>new Promise(e=>setTimeout(e,t))},function(t,e,r){"use strict";r.r(e),r.d(e,"loadString",(function(){return n})),r.d(e,"loadJSON",(function(){return s})),r.d(e,"loadImage",(function(){return i})),r.d(e,"loadBytes",(function(){return o})),r.d(e,"loadSound",(function(){return a})),r.d(e,"loadFont",(function(){return c}));const n=async t=>{const e=await fetch(t);return await e.text()},s=async t=>{const e=await fetch(t);return await e.json()},i=t=>new Promise(e=>{const r=new Image;r.src=t,r.onload=()=>e(r)}),o=async t=>{const e=await fetch(t),r=await e.arrayBuffer();return new Int8Array(r)},a=t=>new Promise(e=>{e(new Audio(t))}),c=async t=>{const e=t.split("/").pop().split(".")[0],r=new FontFace(e,`url(${t})`),n=await r.load();return document.fonts.add(n),e}},function(t,e,r){"use strict";r.r(e),r.d(e,"httpPost",(function(){return n}));const n=async(t,e,r,n={})=>{const s=await fetch(t,{method:"POST",mode:n.mode||"cors",cache:n.cache||"no-cache",credentials:n.credentials||"same-origin",headers:n.headers||{"Content-Type":"application/json"},redirect:n.redirect||"follow",referrerPolicy:n.referrerPolicy||"no-referrer",body:JSON.stringify(r)});return e==hlp.JSON?await s.json():e==hlp.BLOB?await s.blob():await s.text()}},function(t,e,r){"use strict";r.r(e),r.d(e,"regexEscape",(function(){return n})),r.d(e,"smartSplit",(function(){return s})),r.d(e,"safeEscape",(function(){return i})),r.d(e,"copyToClipboard",(function(){return o}));const n=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),s=(t,e=" ",r,n="")=>{let s=t.split(new RegExp(hlp.regexEscape(e)+"+","g"));if(s.slice(-1)[0]||s.pop(),null!=r)for(let t=0;t<s.length;t++)s[t].includes(r)&&s.slice(t+1).forEach((i,o)=>{const a=i.indexOf(r);if(-1==a||i[a+1]==n);else{const r=s.slice(t,o+t+2).join(e);s.splice(t,o+2,r.replace(n,""))}});return s},i=t=>t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/%/g,"&#37;"),o=async t=>{if(navigator.clipboard)await navigator.clipboard.writeText(t);else{console.warn("Navigator copy not supported. Using manual copy.");const t=document.createElement("textarea");t.value=text,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();if(!document.execCommand("copy"))return alert("Copy fallback not sucessful!");document.body.removeChild(t)}}},function(t,e,r){"use strict";r.r(e),r.d(e,"Set",(function(){return s}));var n=r(6);class s{constructor(t=0){return Object.defineProperty(this,"_array",{enumerable:!1,writable:!0,value:t instanceof Array?t.slice():new Array(t).fill()}),new Proxy(this,{get(t,e,r){const n=Number(e);return isNaN(n)?Reflect.has(t,e)?Reflect.get(t,e,r):"function"==typeof t._array[e]?(...r)=>{let n=t._array[e](...r);n instanceof Array&&(t._array=n)}:t._array[e]:t._array[n]},set(t,e,r,n){const s=Number(e);if(isNaN(s))return Reflect.set(t,e,r,n);t._array[e]=r}})}log(){console.log(this._array)}clone(){return this._array.slice()}toArray(){return this._array}serialise(){return JSON.stringify(this._array)}deserialise(t){return new s(JSON.parse(t))}}Object.keys(n).forEach(t=>{s.prototype[t]=function(...e){return n[t](this._array,...e)}})},function(t,e,r){"use strict";r.r(e),r.d(e,"DOMList",(function(){return n})),r.d(e,"selectDOM",(function(){return s})),r.d(e,"createDOM",(function(){return i}));class n{constructor(t){return Object.defineProperty(this,"_nodeList",{enumerable:!1,writable:!1,value:[...t]}),Object.assign(this,t),this.style=new Proxy({},{get(e,r){let n="";return t.forEach(t=>{null!=t.style[r]&&(n+=t.style[r])}),n},set(e,r,n){t.forEach(t=>{null!=t.style[r]&&(t.style[r]=n)})}}),new Proxy(this,{get(e,r,n){if(Reflect.has(e,r))return Reflect.get(e,r,n);const s=[],i=[];return t.forEach(t=>{if("function"==typeof t[r])i.push(t);else if(null!=t[r]&&i.length<1){let e=t[r];e&&s.push(e)}}),i.length>0?(...t)=>{const e=[];return i.forEach(n=>{let s=n[r](...t);s&&e.push(s)}),e}:s},set(e,r,n,s){if(Reflect.has(e,r))return Reflect.set(e,r,n,s);t.forEach(t=>{null!=t[r]&&(t[r]=n)})}})}toArray(){return this._nodeList}forEach(t){for(let e=0;e<this._nodeList.length;e++)t(this._nodeList[e],e)}}const s=t=>{const e=document.querySelectorAll(t);return new n(e)},i=t=>{const e=document.createElement(t);return new n([e])}},function(t,e,r){"use strict";r.r(e),r.d(e,"CanvasGraphics",(function(){return a}));var n=r(1);class s{constructor(t){return this.canvas=t,this.canvas.getContext?(this.ctx=this.canvas.getContext("2d"),null==this.ctx?alert("Browser does not support the canvas!"):(this._doFill=!0,this._doStroke=!0,this._firstPosShape=new n.Vector(0,0),this._firstPosShape._using=!1,this._font="Arial",this._fontSize=10,this._prevStates=[],this._cacheFill=null,this._cacheStroke=null,this.width=this.canvas.width,void(this.height=this.canvas.height))):alert("Browser does not support the canvas!")}fill(t){this._doFill=!0,t!==this._cacheFill&&(this.ctx.fillStyle=t,this._cacheFill=t)}stroke(t){this._doStroke=!0,t!==this._cacheStroke&&(this.ctx.strokeStyle=t,this._cacheStroke=t)}noFill(){this._doFill=!1}noStroke(){this._doStroke=!1}strokeWeight(t){this.ctx.lineWidth=t}beginShape(){this.ctx.beginPath()}endShape(t){t&&this.ctx.closePath(this._firstPosShape.x,this._firstPosShape.y),this._doFill&&this.ctx.fill(),this._doStroke&&this.ctx.stroke()}vertex(t,e){this._firstPosShape._using?this.ctx.lineTo(t,e):(this._firstPosShape.set(t,e),this._firstPosShape._using=!0,this.ctx.moveTo(t,e))}rect(t,e,r,n){this._doFill&&this.ctx.fillRect(t,e,r,n),this._doStroke&&this.ctx.strokeRect(t,e,r,n)}image(t,e,r,n,s){this.ctx.drawImage(t,e,r,n,s)}triangle(t,e,r,n,s,i){this.beginShape(),this.vertex(t,e),this.vertex(r,n),this.vertex(s,i),this.endShape()}triangleInflate(t,e,r,s){const i=new n.Vector(t.x+e.x+r.x,t.y+e.y+r.y).div(3);t=hlp.Vector.sub(t,i),e=hlp.Vector.sub(e,i),r=hlp.Vector.sub(r,i),this.triangle(t.setMag(t.mag()+s).add(i),e.setMag(e.mag()+s).add(i),r.setMag(r.mag()+s).add(i))}point(t,e){this.rect(t,e,1,1)}line(t,e,r,n){this.beginShape(),this.vertex(t,e),this.vertex(r,n),this.endShape(!1)}background(){this.rect(0,0,this.width,this.height)}translate(t,e){this.ctx.translate(t,e)}rotate(t){this.ctx.rotate(t)}scale(t,e){this.ctx.scale(t,e)}push(){this._prevStates.push({_doFill:this._doFill,_doStroke:this._doStroke,_font:this._font,_fontSize:this._fontSize}),this.ctx.save()}pop(){Object.assign(this,this._prevStates.pop()),this.ctx.restore()}text(t,e,r){this.ctx.font=`${this._fontSize}px ${this._font}`,this.ctx.fillText(t,e,r)}textFont(t){this._font=t}textSize(t){this._fontSize=t}textAlign(t){this.ctx.textAlign=t}rendererResize(t,e){this.width=t,this.height=e}}var i=r(3),o=r(2);class a extends class{constructor(t,e){t===o.FULL?(null!=e&&(this.aspectRatio=e),this.isFull=!0,this._resizeFull()):(this.width=t||400,this.height=e||400,this.aspectRatio=this.height/this.width),this.canvas=document.createElement("canvas"),this.canvas.classList.add("hlpCanvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.requestPointerLock=this.canvas.requestPointerLock||this.canvas.mozRequestPointerLock,document.body.appendChild(this.canvas),this.isFull&&window.addEventListener("resize",t=>{this._resizeFull()}),this.mouse=new n.Vector(0,0),this.mouseMovement=new n.Vector(0,0),document.body.addEventListener("mousemove",t=>{const e=this.canvas.getBoundingClientRect();this.mouse.set(t.clientX-e.left,t.clientY-e.top),this.mouseMovement.set(t.movementX,t.movementY)})}lockMouse(){this.canvas.requestPointerLock()}resizeCanvas(t,e){null!=this._renderer&&this._renderer.rendererResize(t,e),this.width=t,this.height=e,null!=this.canvas&&(this.canvas.width=this.width,this.canvas.height=this.height)}_resizeFull(){let t=window.innerHeight;if(null!=this.aspectRatio){const e=window.innerWidth/this.aspectRatio;e<window.innerHeight&&(t=e)}this.resizeCanvas(null!=this.aspectRatio?t*this.aspectRatio:innerWidth,t)}remove(){document.body.removeChild(this.canvas)}}{constructor(t,e,r=o.renderer2D){if(super(t,e),r!=o.renderer2D)return console.error("Unknown Renderer!");this._renderer=new s(this.canvas)}fill(t,e,r,n){"string"==typeof t?this._renderer.fill(t):t instanceof i.Colour?this._renderer.fill(t.toString()):this._renderer.fill(i.Colour.toString(t,e,r,n))}stroke(t,e,r,n){"string"==typeof t?this._renderer.stroke(t):t instanceof i.Colour?this._renderer.stroke(t.toString()):this._renderer.stroke(i.Colour.toString(t,e,r,n))}noFill(){this._renderer.noFill()}noStroke(){this._renderer.noStroke()}strokeWeight(t){this._renderer.strokeWeight(t)}beginShape(){this._renderer.beginShape()}endShape(t=!0){if(!this._renderer._firstPosShape._using)throw new Error("Cannot close shape before beggining!");this._renderer.endShape(t),this._renderer._firstPosShape._using=!1}vertex(t,e){t instanceof n.Vector?this._renderer.vertex(t.x,t.y):this._renderer.vertex(t,e)}rect(t,e,r,s){t instanceof n.Vector?this._renderer.rect(t.x,t.y,e,r):this._renderer.rect(t,e,r,s)}image(t,e,r,s=t.width,i=t.height){e instanceof n.Vector?this._renderer.image(t,e.x,e.y,r,s):this._renderer.image(t,e,r,s,i)}triangle(t,e,r,s,i,o){t instanceof n.Vector?this._renderer.triangle(t.x,t.y,e.x,e.y,r.x,r.y):this._renderer.triangle(t,e,r,s,i,o)}triangleInflate(t,e,r,s=1,i,o,a=1){t instanceof n.Vector?this._renderer.triangleInflate(t,e,r,s):this._renderer.triangleInflate(new n.Vector(t,e),new n.Vector(r,s),new n.Vector(i,o),a)}point(t,e){t instanceof n.Vector?this._renderer.point(t.x,t.y):this._renderer.point(t,e)}line(t,e,r,s){t instanceof n.Vector?this._renderer.line(t.x,t.y,e.x,e.y):this._renderer.line(t,e,r,s)}background(...t){this.push(),this.fill(...t),this.noStroke(),this._renderer.background(),this.pop()}translate(t,e=0){t instanceof n.Vector?this._renderer.translate(t.x,t.y):this._renderer.translate(t,e)}rotate(t){this._renderer.rotate(toRadians(t))}scale(t,e=0){t instanceof n.Vector?this._renderer.scale(t.x,t.y):this._renderer.scale(t,e)}push(){this._renderer.push()}pop(){this._renderer.pop()}text(t,e,r){e instanceof n.Vector?this._renderer.text(t,e.x,e.y):this._renderer.text(t,e,r)}textFont(t){this._renderer.textFont(t)}textSize(t){this._renderer.textSize(t)}textAlign(t){this._renderer.textAlign(t)}}}]);